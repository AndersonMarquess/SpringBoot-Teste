<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragmentos/head.html :: head('Editar tarefa')"></head>

<body style="padding-top: 20vh;">
    <nav th:insert="fragmentos/navbar.html :: barra"></nav>
    
    <header>
        <h1 style="text-align: center">Editar tarefa</h1>
    </header>

    <main class="container">
        <form method="POST" action="/tarefa/atualizar" th:object="${tarefa}">
            <!-- Lista todos os erros -->
            <p class="alert alert-danger" th:if="${#fields.hasErrors('all')}" th:errors="*{all}">Erros na validação</p>
        
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
            <input type="hidden" th:field="*{id}"/>
            <div class="form-group">
                <label for="nome">Nome da tarefa</label>
                <input type="text" th:field="*{nome}" class="form-control" id="nome" placeholder="Nome de tarefa">
            </div>
            <div class="form-group">
                <label for="descricao">Descrição</label>
                <input type="text" th:field="*{descricao}" class="form-control" id="descricao" placeholder="Descrição da tarefa">
            </div>

            <div class="form-group row">
                <div class="col">
                    <label for="dataInicio">Data de início</label>
                    <input type="date" th:field="*{dataInicio}" class="form-control" id="dataInicio">
                </div>
                <div class="col">
                    <label for="dataLimite">Data de termino</label>
                    <input type="date" th:field="*{dataLimite}" class="form-control" id="dataLimite">
                </div>
            </div>
            
            <button type="submit" class="btn btn-info">Atualizar</button>
        </form>
    </main>
    <script>
        //Solução por TRiNE
        dataInicio.min = new Date().toISOString().split("T")[0];
        dataLimite.min = new Date().toISOString().split("T")[0];
    </script>
</body>
</html>