<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8" />
		<title>Cadastrar</title>
	</head>
	<body>
		<header>
			<h1>Criar conta</h1>
		</header>
		
		<form method="POST" action="/adicionar" th:object="${usuario}">
		
			<!-- Lista todos os erros -->
			<p th:if="${#fields.hasErrors('all')}" th:errors="*{all}">Erros na validação</p>
		
			<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
			Login: <input type="text" th:field="*{nomeUsuario}"/>
			<br/>
			<br/>

			Senha: <input type="password" id="password"/>
			Confirmar senha: <input type="password" th:field="*{senha}" id="confsenha"/>
			<span id="message"></span>
			
			<button type="submit" id="btn">Cadastrar</button>
		</form>
		
		<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" 
				integrity="sha256-pasqAKBDmFT4eHoN2ndd6lN370kFiGUFyTiUHWhU7k8=" 
				crossorigin="anonymous"></script>
				
		 <script>
             // Trecho Criado por aelor
             $('#password, #confsenha').on('keyup', function () {
                 if ($('#password').val() == $('#confsenha').val()) {
                     $('#message').html('As senhas combinam.').css('color', 'green');
                     $('#btn').prop('disabled', false);
                 } else {
                     $('#message').html('As senhas não combinam.').css('color', 'red');
                     $('#btn').prop('disabled', true);
                 }
             });
         </script>
	</body>
</html>